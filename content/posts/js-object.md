---
title: "Объективно об объектах в JS"
tags:
  - javascript
  - web
  - under-the-hood
date: 5 Sep 2023
---

Сегодня мы посмотрим как JS формирует другие типы данных (залезем в прототипы разных
типов данных), как `this` реагирует на разный контекст выполнения, а тажке рассмотрим
что хранится под капотом у классов ES6. Вперед под кат, будет интересно :)

# Типы данных и их поднаготная
Типы данных в JS делятся на простые и сложные.

Также вместо "простые" и "сложные" еще говорят:
* Тривиальные и нетривиальные;
* Примитивные и непримитивные;
* Простые и комплексные;
* Простые и составные;

Начнем разбираться в типах по порядку.

## Простые типы
Простые типы - типы данных, которые копируются по значению, являются иммутабельными (неизменяемыми), а также **не содержат вложенных типов**.

Среди простых типов находятся следующие:
- Число: `number`;
- Строка: `string`;
- Типы, которые означают отсутствие значения: `undefined`, `null`;
- Логические значения: `boolean`;

### Копирование по значению
Когда я говорил, о том, что значения с данными типами копируются по значению, я имел ввиду следующее:

```javascript [primitive.js]
let num = 1;
let anotherNum = num;
num = 0;

console.log(num, anotherNum); // 0 1
```

В сниппете выше мы можем увидеть то, что после обновления значения `num`, значение `anotherNum`
не обновилось. Это происходит потому что мы скопировали значение `num` в `anotherNum` не по ссылке,
а именно передали значение.

### Иммутабельность
Проверить что простые типы данных иммутабельны достаточно легко, давайте проверим это
на примере строки:

```javascript [string.js]
let word = "JavaScript";
word[0] = "Y";
console.log(word); // JavaScript
```

Мы можем наблюдать за странным являением: мы попытались изменить первый символ строки `"JavaScript"`,
однако у нас ничего не получилось. Это из-за того что все простые типы данных хранятся в стеке,
у них заранее должен быть извествен размер переменной.

::ContentDetails
---
title: А что на счет инкрементации чисел?
---
Кто-то может возразить: "Но мы ведь можем инкрементировать число! Мы изменяем иммутабельное значение!":

```javascript [increment.js]
let i = 0;
i++;
console.log(i); // 1
```

Действительно, переменная обновила свое значение, однако есть нюанс: *во время инкрементирования
мы назначем переменной новое значение используя старое, а не непосредственно изменяем старое*

```javascript [increment-under-the-hood.js]
let i = 0;
i = i + 1; // Новое значение присваивается переменной
console.log(i); // 1
```

Данная тема хорошо описана вот тут:

::ContentBookmark
---
url: https://techstacker.com/what-does-it-mean-that-primitive-values-are-immutuable-in-javascript/
---
::
::

## Сложные типы
Сложные типы состоят из объектов, возможно для кого-то будет открытие: все другие типы (не включая простые) состоят из объектов:
- Массивы: `Array`;
- Функции: `Function`;
- Объекты (кто бы мог подумать): `Object`;
- Регулярные выражения: `RegExp`;
- Даты: `Date`;
- И так далее...

У
# Прототип


# Почему this - особенный?

# Конструирование классов там, где их быть не должно



